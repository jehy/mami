<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="dist/styles.css">
    <title>Лабораторная работа №3. Защита от внедрения вредоносных файлов</title>
    <meta content="width=device-width,initial-scale=1" name=viewport>
</head>
<body>
<!-- Top Navbar -->
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle"
                    data-toggle="collapse"
                    data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">
                Лабораторная работа №3. Защита от внедрения вредоносных файлов
            </a>
        </div>
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="./">Все материалы</a></li>
                <!--<li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>-->
            </ul>
        </div>
    </div>
</div>
<div class="row" id="content">
    <!--Nav Bar -->
    <nav class="col-xs-3 bs-docs-sidebar">
        <ul id="sidebar" class="nav nav-stacked fixed">
            <li>
                <a href="#intro">Вводная</a>
                <ul class="nav nav-stacked">
                    <li><a href="#introGoal">Цель работы</a></li>
                    <li><a href="#introWhat">Определение</a></li>
                </ul>
            </li>
            <li><a href="#task">Задание</a></li>
            <li><a href="#questions">Вопросы</a></li>
        </ul>
    </nav>
    <!--Main Content -->
    <div class="col-xs-9">
        <section id="intro" class="group">
            <h1>Вводная</h1>
            <div id="introGoal" class="subgroup">
                <h2>Цель работы</h2>
                <p>Ознакомиться с принципами внедрения вредноносных файлов и защиты от них.</p>
            </div>
            <div id="introWhat" class="subgroup">
                <h2>Введение</h2>
                <p>Различные веб-приложения позволяют пользователям загружать файлы. Форумы позволяют пользователям
                    загружать «аватары». Фотогалереи позволяют загружать фотографии. Социальные сети предоставляют
                    возможности по загрузке изображений, видео, и т.д. Блоги позволяют загружать опять же аватарки и/или
                    изображения.
                </p>
                <p>Часто загрузка файлов без обеспечения надлежащего контроля безопасности приводит к образованию
                    уязвимостей, которые, как показывает практика, стали настоящей проблемой в веб-приложениях на PHP.
                </p>
                <p>Проводимые тесты показали, что многие веб-приложения имеют множество проблем с безопасностью. Эти
                    «дыры» предоставляют злоумышленникам обширные возможности совершать несанкционированные действия,
                    начиная с просмотра любого файла на сервере и закачивания выполнением произвольного кода. </p>

                <p>К прочтению рекомендуются две статьи:<br>
                    <a href="https://habrahabr.ru/post/44610/">Первая часть</a><br>
                    <a href="https://habrahabr.ru/post/44615/">Вторая часть</a>
                </p>
                <p>Важно отметить, что все перечисленные проблемы не связаны исключительно с PHP - идентичные проблемы
                    можно получить с использованием произвольного языка для веб разработки. Поэтому вы можете выполнить
                    лабораторную на любом желаемом языке. Так же следует заметить, что, несмотря на корректные
                    предпосылки, вывод в статье сделан неверный. Если мы говорит о загрузке пользовательских документов
                    и изображений, то мы просто не можем не дать пользователю возможности обратиться к загруженным
                    файлам. В таком случае, наша цель - исключить вероятность того, что загруженный файл будет исполнен
                    каким либо интерпретатором на сервере. Для этого нужно самостоятельно определять имя и расширения
                    файла, опираясь на пользовательские данные - но ни в коем случае не используя их напрямую.</p>

                <p>В данной лабораторной будет использовано понятие "shell script". Аналогами в контексте являются "web
                    shell", "php shell" и так далее. Это некий вредоносный
                    скрипт (программа), который злоумышленники используют для управления чужими сайтами и серверами:
                    выполнения команд терминала, перебора паролей, доступа к файловой системе и так далее. Для
                    размещения
                    скрипта чаще всего используются уязвимости в коде сайта или подбор паролей.</p>
            </div>
        </section>
        <section id="task" class="group">
            <h1>Задание</h1>
            <p><strong>Внимание! Уязвимости создаются и эксплуатируются только на ваших тестовых проектах.
                Запрещается
                их демонстрация на каких либо внешних сайтах.</strong></p>
            <ul>
                <li>Реализуйте заведомо уязвимый алгоритм для загрузки
                    пользовательских изображений (реализуйте один из "неудачных" вариантов проверки). Затем,
                    напрямую
                    или при помощи загруженного шелл скрипта (вы можете использовать <a
                            href="https://github.com/mevdschee/shell.php">данный шелл</a>, любой другой или написать
                    свой) выполните последующие действия:
                    <ol>
                        <li>Вывод информации о среде (как минимум phpinfo());</li>
                        <li>Листинг файлов и директорий уязвимого сайта;</li>
                        <li>Загрузка дополнительных файлов на сайт;</li>
                        <li>Исполнение системных (Windows или Linux) команд на севере;</li>
                    </ol>
                </li>
                <li>Реализуйте корректное исправление данной уязвимости.</li>
            </ul>
        </section>
        <section id="questions" class="group">
            <h1>Вопросы</h1>

            <ol>
                <li>Какие бывают ошибки при проверке загружаемого файла?</li>
                <li>Как можно гарантировать безопасную загрузку файла?</li>
                <li>Что такое web shell?</li>
                <li>Что может сделать взломщик при наличии загруженного web shell?</li>
                <li>Как можно проверить сайт на наличие внедрённого web shell?</li>
                <li>Как можно понизить степень угрозы настройками веб сервера при наличии успешно эксплуатируемой
                    уязвимости?
                </li>
            </ol>
        </section>
    </div>
</div>

<script src="dist/bundle.js"></script>
</body>
</html>

